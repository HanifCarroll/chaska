@import "tailwindcss";

:root {
  /* Soft, homely off‑white background and calm foreground */
  --background: #faf7f2;
  --foreground: #1f2937; /* slate-800 */

  /* Palette (muted) */
  --blue: #2f4a63;      /* deep muted blue */
  --olive: #3f4b3a;     /* dark olive green */
  --brick: #a44335;     /* brick red */
  --gold: #c4a25b;      /* muted gold */
  --white: #ffffff;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-blue: var(--blue);
  --color-olive: var(--olive);
  --color-brick: var(--brick);
  --color-gold: var(--gold);
  --color-white: var(--white);
  --font-display: var(--font-gloock), ui-serif, Georgia, "Times New Roman", serif;
  --font-script: var(--font-dancing), cursive;
  --font-sans: var(--font-inter), ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
  --font-mono: var(--font-plex-mono), ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0b0e10;
    --foreground: #e5e7eb;
    --blue: #94b2d0; /* lighter for dark contrast */
    --olive: #a3b29f;
    --brick: #e08a7f;
    --gold: #d9c183;
    --white: #ffffff;
  }
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: var(--font-sans);
}

/* Prevent horizontal scroll caused by off-canvas transforms */
html, body {
  overflow-x: hidden;
}

/* Smooth scrolling for in-page anchors, respecting reduced-motion */
@media (prefers-reduced-motion: no-preference) {
  html { scroll-behavior: smooth; }
}

/* Helpful offset so anchored targets aren't hidden behind fixed header */
[id] { scroll-margin-top: 88px; }

/* Typography scale and utilities */
@layer components {
  /* H1 – Hero Headline */
  .type-h1 {
    @apply font-display font-bold text-[48px] md:text-[64px] leading-[110%] tracking-[-0.01em];
  }
  /* Large stacked hero inspired by reference */
  .type-hero {
    @apply font-display font-extrabold text-[44px] sm:text-[56px] md:text-[68px] lg:text-[76px] leading-[1.06] tracking-[-0.02em];
  }

  /* H2 – Section Titles */
  .type-h2 {
    @apply font-display font-semibold text-[32px] md:text-[40px] leading-[120%] tracking-[-0.005em];
  }

  /* H3 – Subsection / Menu Category */
  .type-h3 {
    @apply font-display font-medium text-[24px] md:text-[28px] leading-[130%] tracking-normal;
  }

  /* Body Text (Paragraphs) */
  .type-body {
    @apply font-sans font-normal text-[16px] md:text-[18px] leading-[150%] tracking-normal;
  }

  /* Small Text / Labels */
  .type-small {
    @apply font-mono font-normal text-[12px] md:text-[14px] leading-[140%] tracking-[0.02em];
  }

  /* Links & Buttons (UI / CTAs) */
  .type-ui {
    @apply font-sans font-medium md:font-semibold text-[14px] md:text-[16px] leading-[140%] tracking-[0.01em];
  }

  /* Text CTA with baseline + animated underline */
  .link-cta {
    @apply font-sans font-extrabold uppercase text-[14px] md:text-[16px] leading-[140%] tracking-[0.06em] text-blue inline-block;
    position: relative;
    padding-bottom: 6px; /* space for underline */
  }
  /* Base underline (always visible) */
  .link-cta::before {
    content: "";
    position: absolute;
    left: 0;
    right: 0;
    bottom: 0;
    height: 3px;
    background-color: var(--blue);
    opacity: 0.35;
  }
  /* Animated overlay underline */
  .link-cta::after {
    content: "";
    position: absolute;
    left: 0;
    bottom: 0;
    height: 3px;
    width: 100%;
    background-color: var(--blue);
    transform: scaleX(0);
    transform-origin: left;
    transition: transform 280ms ease-out;
  }
  .link-cta:hover::after { transform: scaleX(1); }

  /* Header nav links with subtle hover underline */
  .nav-link {
    @apply inline-block;
    position: relative;
    padding-bottom: 4px; /* reserve space for underline */
  }
  .nav-link::after {
    content: "";
    position: absolute;
    left: 0;
    bottom: 0;
    height: 2px;
    width: 100%;
    background-color: currentColor;
    transform: scaleX(0);
    transform-origin: left;
    transition: transform 220ms ease-out;
    opacity: 0.85;
  }
  .nav-link:hover::after { transform: scaleX(1); }

  /* Underline link with persistent faint base + animated overlay */
  .link-underline {
    @apply inline-block;
    position: relative;
    padding-bottom: 4px; /* space for underline */
  }
  .link-underline::before {
    content: "";
    position: absolute;
    left: 0;
    right: 0;
    bottom: 0;
    height: 1px;
    background-color: currentColor; /* faint base underline */
    opacity: 0.35;
  }
  .link-underline::after {
    content: "";
    position: absolute;
    left: 0;
    bottom: 0;
    height: 1px;
    width: 100%;
    background-color: currentColor; /* animated overlay */
    transform: scaleX(0);
    transform-origin: left;
    transition: transform 240ms ease-out;
  }
  .link-underline:hover::after { transform: scaleX(1); }

  /* Buttons */
  .btn {
    @apply inline-flex items-center justify-center rounded-xl h-11 md:h-12 px-5 font-sans font-medium md:font-semibold text-[14px] md:text-[16px] leading-[140%] tracking-[0.01em] transition-all duration-200 select-none;
  }
  .btn-primary {
    @apply bg-blue text-white shadow-sm hover:bg-blue/90 hover:-translate-y-[1px] active:translate-y-0 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue/40;
  }
  .btn-secondary {
    @apply border-2 border-blue text-blue bg-transparent hover:bg-blue hover:text-white hover:-translate-y-[1px] active:translate-y-0 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue/30;
  }
  .btn-on-dark {
    @apply bg-white text-blue shadow-sm hover:bg-white/90 hover:-translate-y-[1px] active:translate-y-0 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white/70;
  }
  /* Higher-contrast button specifically for dark cards */
  .btn-contrast {
    @apply bg-white text-foreground font-semibold border border-white shadow-md hover:shadow-lg hover:-translate-y-[1px] active:translate-y-0 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white/70;
  }
}

/* Base element mapping (safe defaults) */
@layer base {
  h1 { @apply font-display font-bold text-[48px] md:text-[64px] leading-[110%] tracking-[-0.01em]; }
  h2 { @apply font-display font-semibold text-[32px] md:text-[40px] leading-[120%] tracking-[-0.005em]; }
  h3 { @apply font-display font-medium text-[24px] md:text-[28px] leading-[130%] tracking-normal; }
  p { @apply font-sans font-normal text-[16px] md:text-[18px] leading-[150%] tracking-normal; }
}

/* Define custom utilities using Tailwind v4 @utility */
@utility font-display {
  font-family: var(--font-display);
}

@utility font-script {
  font-family: var(--font-script);
}
